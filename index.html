<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>PackML Learn: Basic Syllabus</title>

    <meta name="author" content="Carl Bostrom">
    <meta name="designer" content="Patrick Toohey">

    <meta name="description" content="PackML Basic Syllabus">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link type="text/css" rel="stylesheet" href="css/reset.css" />
    <link type="text/css" rel="stylesheet" href="css/main.css">
    <link type="text/css" rel="stylesheet" href="css/paragraph.css">


    <script src="https://kit.fontawesome.com/62d0ecf911.js" crossorigin="anonymous"></script>
    <script src="js/packml.hmi.js"></script>

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script> 
        <![endif]-->
</head>

<body>
    <div class="container">
        <div><img id="omac-logo" src="images/OMAC.png" alt="OMAC" /></div>
        <h1>PackML Implementation Guide</h1>
        <hr class="black" />
        <h4>Part X: Teaching PackML Basics</h4>
        <div class="summary">
            <h4 class="summary">Summary</h4>
            <p class="para">
                This document provides a framework for a basic course on PackML. It is meant as a resource
                for instructors and aims to help harmonize courses on this topic currently being offered by
                various technology providers.
            </p>

            <p class="para">
                The course outline covers the major points found in ANSI/ISA-TR88.00.02-2015, including the PackML
                state machine, PackML modes and PackTags. Additional sections describing PackML's
                overarching goals and development history should serve to motivate students. Throughout,
                instructors are encouraged to add content specific to their own technologies.
            </p>

            <p class="para">
                Most of the topics covered here will be easily understood by audiences familiar discrete manufacturing
                generally.
                Other than a broad familiarity with some common programming concepts (e.g. variable, user-defined type),
                there are
                no prerequisites per se. However, this may change depending on technology-specific content added to an
                individual
                course. Instructors must assess these added prerequisites and address them on a case by case basis.
            </p>


            <h4 class="author">Authors: Dan Aardsma (Rockwell), Carl Bostrom (Bosch Rexroth), John Dart (Rockwell),
                Jason Debruler (P&G),
                Adam Griffen (Mettler-Toledo), Bryan Griffen (PMMI), Tom Jensen (Beckhoff), John Katsapsis (BW Packaging
                Systems), Doug Meyer
                (Yaskawa), Brett Mook (PREMIER System), Carsten Nøkleby (SESAM World), Mike Pieper (Siemens), Rob Rawlyk
                (Beckhoff),
                Malte Schlueter (Mitsubishi), Mark Will (ProMach)</h4>
        </div>
        <div>
            <h2 id="contents">Course outline</h2>
            <hr class="black" />
            <ul id="contents">
                <li>
                    <a href="#1_introduction" class="section">1. Introduction</a>
                    <ul>
                        <li><a href="#1_1_goals" class="subsection">1.1 PackML goals</a></li>
                        <li><a href="#1_2_timeline" class="subsection">1.2 Development timeline</a></li>
                        <li><a href="#1_3_current_standard" class="subsection">1.3 Current standard</a></li>
                        <li><a href="#1_4_data_interface" class="subsection">1.4 Data interface</a></li>
                        <li><a href="#1_5_packtags" class="subsection">1.5 PackTags</a></li>
                        <li><a href="#1_6_state_machine" class="subsection">1.6 PackML state machine</a></li>
                        <li><a href="#1_7_coi" class="subsection">1.7 Cost of investment</a></li>

                    </ul>
                </li>

                <li>
                    <a href="#2_terms" class="section">2. Terms and key concepts</a>
                    <ul>
                        <li><a href="#2_1_packml" class="subsection">2.1 PackML</a></li>
                        <li><a href="#2_2_machine_state" class="subsection">2.2 State or machine state</a></li>
                        <li><a href="#2_3_state_model" class="subsection">2.3 State model</a></li>
                        <li><a href="#2_4_isa88_physical_model" class="subsection">2.4 ISA-88 physical model</a></li>
                        <li><a href="#2_5_machine_mode" class="subsection">2.5 Mode or machine mode</a></li>
                        <li><a href="#2_6_packtags" class="subsection">2.6 PackTags</a></li>
                        <li><a href="#2_7_alarm_handler" class="subsection">2.7 Alarm handler</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#3_packml_states" class="section">3. PackML States</a>
                    <ul>
                        <li><a href="#3_1_execute" class="subsection">3.1 EXECUTE state</a></li>
                        <li><a href="#3_2_held" class="subsection">3.2 HELD state</a></li>
                        <li><a href="#3_3_suspended" class="subsection">3.3 SUSPENDED state</a></li>
                        <li><a href="#3_4_complete" class="subsection">3.4 COMPLETE state</a></li>
                        <li><a href="#3_5_idle" class="subsection">3.5 IDLE state</a></li>
                        <li><a href="#3_6_stopped" class="subsection">3.6 STOPPED state</a></li>
                        <li><a href="#3_7_aborted" class="subsection">3.7 ABORTED state</a></li>
                        <li><a href="#3_8_held_suspended" class="subsection">3.8 HELD vs. SUSPENDED</a></li>
                        <li><a href="#3_9_stopped_aborted" class="subsection">3.9 STOPPED vs. ABORTED</a></li>
                        <li><a href="#3_10_transition_states" class="subsection">3.10 Acting or transition states</a>
                        </li>
                        <li><a href="#3_11_clearing_resetting" class="subsection">3.11 CLEARING vs. RESETTING</a></li>
                        <li><a href="#3_12_state_commands" class="subsection">3.12 State commands</a></li>
                        <li><a href="#3_13_state_complete" class="subsection">3.13 State complete</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#4_packml_modes" class="section">4. PackML modes</a>
                    <ul>
                        <li><a href="#4_1_production" class="subsection">4.1 Production mode</a></li>
                        <li><a href="#4_2_maintenance" class="subsection">4.2 Maintenance mode</a></li>
                        <li><a href="#4_3_manual" class="subsection">4.3 Manual mode</a></li>
                        <li><a href="#4_4_additional_modes" class="subsection">4.4 Additional modes</a></li>
                        <li><a href="#4_5_mode_management" class="subsection">4.5 Mode management</a></li>
                    </ul>
                </li>

                <li>
                    <a href="#5_packtags" class="section">5. PackTags</a>
                    <ul>
                        <li><a href="#5_1_packtag_types" class="subsection">5.1 PackTag types</a></li>
                        <ul>
                            <li><a href="#5_1_1_command_tags" class="subsubsection">5.1.1 Command tags</a></li>
                            <li><a href="#5_1_2_status_tags" class="subsubsection">5.1.2 Status tags</a></li>
                            <li><a href="#5_1_3_admin_tags" class="subsubsection">5.1.3 Admin tags</a></li>
                        </ul>
                        <li><a href="#5_2_base_type" class="subsection">5.2 Base type</a></li>
                        <li><a href="#5_3_elementary_types" class="subsection">5.3 Elementary types</a></li>
                        <li><a href="#5_4_subtypes" class="subsection">5.4 Structured data types</a></li>
                        <li><a href="#5_5_required_set" class="subsection">5.5 Required PackTags</a></li>
                        <li><a href="#5_6_vendor_specific_tools" class="subsection">5.6 Vendor-specific tools</a></li>

                    </ul>
                </li>

                <li>
                    <a href="#6_implementation" class="section">6. Implementation strategies</a>
                    <ul>
                        <li><a href="#6_1_existing_resources" class="subsection">6.1 Existing resources</a></li>

                        <li><a href="#6_2_gateway_approach" class="subsection">6.2 Gateway approach</a></li>
                        <li><a href="#6_3_full_integration" class="subsection">6.3 Full integration</a></li>
                        <ul>
                            <li><a href="#6_3_1_template_overview" class="subsubsection">6.3.1 Template overview</a>
                            </li>
                            <li><a href="#6_3_2_modularity" class="subsubsection">6.3.2 Modularity</a></li>
                            <li><a href="#6_3_3_alarm_handling" class="subsubsection">6.3.3 Alarm handling</a></li>
                        </ul>
                    </ul>
                </li>

                <li>
                    <a href="#7_minimum_requirements" class="section">7. Minimum requirements</a>
                    <ul>
                        <li><a href="#7_1_minimum_mode" class="subsection">7.1 Minimum mode requirements</a></li>
                        <li><a href="#7_2_minimum_state" class="subsection">7.2 Minimum state requirements</a></li>
                        <li><a href="#7_3_minimum_tag" class="subsection">7.3 Minimum PackTag requirements</a></li>
                        <li><a href="#7_4_minimum_use_case" class="subsection">7.4 Use case</a></li>

                    </ul>
                </li>

                <li>
                    <a href="#8_references" class="section">8. References</a>
                    <ul>
                        <li><a href="#8_1_standards" class="subsection">8.1 Standards</a></li>
                        <li><a href="#8_2_implementation_guides" class="subsection">8.2 Implementation guides</a></li>
                        <li><a href="#8_3_videos" class="subsection">8.3 Instructional videos</a></li>
                        <li><a href="#8_4_industry_publications" class="subsection">8.4 Industry publications</a></li>
                    </ul>
                </li>

            </ul>
        </div>



        <!-- Use of this document-->
        <div>
            <!-- Executive Summary -->

            <!-- Overview -->
            <div>
                <h2 id="Use">How to use this document</h2>
                <hr class="black" />
                <h3 id="Purpose">Conventions</h3>

                <p class="para">
                    Throughout this document we will use the following formatting conventions:
                </p>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                    <p class="comment">
                        Special instructions for trainers are given in italics and marked with an image of a teacher at
                        a chalkboard.
                    </p>
                </div>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                    <p class="para">
                        Learning objectives for each chapter are marked with a bullseye.
                    </p>
                </div>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-key"></i> </div>
                    <p class="para">
                        Essential concepts or definitions are marked with a key.
                    </p>
                </div>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-question"></i> </div>
                    <p class="para">
                        Suggestions for classroom discussion are marked with a question mark.
                    </p>
                </div>


                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i></div>
                    <p class="tr88">
                        Text excerpted from ANSI/ISA-TR88.00.02-2015 will be shown in monospaced font and noted with the
                        document icon. </p>
                </div>

                <h3 id="Purpose">Supplemental content</h3>

                <p class="para">
                    This document describes a minimal set of topics to be covered by a basic introduction to PackML.
                    Instructors
                    are free to include any additional information, including vendor-specific information, deemed
                    necessary.
                </p>

                <h3 id="Purpose">Content order</h3>

                <p class="para">
                    Topics are given in what the authors feel is a natural order, but the subject matter may be
                    rearranged
                    where required, especially with respect to any additional vendor-specific material.
                </p>

            </div>


            <!-- Body syllabus-->
            <div>
                <!-- Executive Summary -->

                <!-- Overview -->
                <div>
                    <h2 id="1_introduction">1. Introduction</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            Chapter 1 is intended to give students an overview of the basic concepts and development
                            history of PackML.
                        </p>
                        <p class="para">
                            After completing the chapter, students should have an understanding of what motivated the
                            development of PackML and its main benefits.
                        </p>

                        <p class="para">
                            Chapter 1 is optional. If students are sufficiently familiar with the topics described
                            in this chapter, or at the discretion of the instructor, this material may be skipped.
                        </p>

                    </div>

                    <!-- 1.1 PackML goals -->
                    <h3 id="1_1_goals">1.1 PackML goals</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Present an overview of the goals and benefits of PackML. Some key ideas are
                            listed
                            below.
                        </p>
                    </div>

                    <p class="para">
                        PackML, or Packaging Machine Language, is an effort by OMAC to standardize the interface
                        between a packaging machine and its peers and supervisors. Primary objectives include
                        bringing common "look and feel" and operational consistency to all machines that make up
                        a packaging line.
                    </p>

                    <p class="para">
                        PackML provides:
                    <ul class="list">
                        <li>Overall equipment effectiveness or OEE data</li>
                        <li>Root cause analysis or RCA data</li>
                        <li>Recipe management</li>
                        <li>Standard defined machine states and operational flow</li>
                    </ul>
                    </p>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. What does it mean for machines to have a common "look and feel"?
                        </p>

                        <p class="para">
                            b. Give an example of operational consistency.
                        </p>

                        <p class="para">
                            c. PackML has found application beyond packaging to discrete manufacturing generally. What
                            is discrete manufacturing?
                        </p>
                    </div>

                    <!-- 1.2 Development timeline -->
                    <h3 id="1_2_timeline">1.2 Development timeline</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Briefly review the development history of PackML. The chart
                            below was adapted from https://en.wikipedia.org/wiki/PackML. Further information is
                            available there.
                        </p>

                        <p class="comment">
                            Stress that PackML is both well-established and currently active.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_development_timeline.png" />
                        <figcaption>
                            Figure X. PackML was released as an ANSI-ISA standard in 2008, but earlier versions
                            were in use ca. 2002. The current version dates back to 2015. The next release
                            is expected in 2021.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="1_3_current_standard">1.3 Current standard</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Make the point that PackML is defined by ANSI/ISA-TR88.00.02-2015.
                            Clarify how this document may be obtained.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/TR88.00.02-2015.png" />
                        <figcaption>
                            Figure X. PackML is defined in technical report ANSI/ISA-TR88.00.02-2015. Copies are
                            available for purchase at www.isa.org.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="1_4_data_interface">1.4 Data interface</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the idea that one of PackML's central roles is to function
                            as a data interface between the machine and its supervisors and peers. Clarify the
                            terms <b>peer</b> and <b>supervisor</b>.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_supervisor.png" />
                        <figcaption>
                            Figure X. PackML provides a data interface between a machine and its supervisor.
                        </figcaption>
                    </figure>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_between_peers.png" />
                        <figcaption>
                            Figure X. PackML provides a data interface between machine peers.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Give examples of data that might be passed from a machine to its supervisor.
                        </p>

                        <p class="para">
                            b. Give examples of data that might be passed between machine peers.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="1_5_packtags">1.5 PackTags</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the term "PackTags" and relate this term to the previous section:
                            the set of PackTags form the complete data interface. Preview the overall scope of the data
                            set.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_general_scope.png" />
                        <figcaption>
                            Figure X. PackTags form the data interface described in the previous section. A partial
                            listing
                            of the type of data included in the interface is shown.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Why is it critical to have naming conventions for the data included in the PackML
                            data interface?
                        </p>

                        <p class="para">
                            b. What other conventions regarding the data interface are required?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="1_6_state_machine">1.6 PackML state machine</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Preview the PackML state machine. Stress the idea that in order to have a
                            cohesive data interface, a common understanding of machine state is required. Later sections
                            will cover the individual machine states in detail.
                        </p>
                        <p class="comment">
                            Clarify the state machine workflow, especially the meaning of the boxes connected to the
                            Stop and Abort commands.
                        </p>

                        <p class="comment">
                            Instructors may find an animated model (e.g. PackML_Trainer) useful in clarifying the
                            workflow of
                            the state model.
                        </p>

                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_alternate.png" />
                        <figcaption>
                            Figure X. PackML state model.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. In non-technical terms, give examples of common machine conditions or states (e.g.
                            machine
                            is running, error has occurred, etc.).
                        </p>
                        <p class="para">
                            b. How does having a common understanding of machine state facilitate the creation of a
                            standardized
                            calculation for overall equipment effectiveness (OEE)?
                        </p>

                    </div>

                    <!-- -->
                    <h3 id="1_7_coi">1.7 Cost of investment</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: The cost to implement PackML will depend on a variety of factors, including
                            quality and structure of the existing code base, availability of a programming template
                            for a given control platform, implementation scope, etc. General implementation strategies,
                            for which the investment costs will vary, are discussed in Chapter 6.
                        </p>
                        <p class="comment">
                            If the instructor has vendor-specific data estimating the cost or time required to implement
                            PackML, introduce it here.
                            The references listed in &#167;8.4 provide some general information on this topic.
                        </p>
                    </div>
                </div>

                <!-- Terms -->
                <div>
                    <h2 id="2_terms">2. Terms and key concepts</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            Chapter 2 introduces key terms and concepts.
                        </p>
                        <p class="para">
                            After completing the chapter, students - in addition to understanding the terms themselves -
                            should have a clearer understanding of the scope of the course and, by extension, the scope
                            of PackML itself.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_1_packml">2.1 PackML</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            PackML: a communication interface for discrete manufacturing
                            (e.g. packaging machinery) described by ANSI/ISA-TR88.00.02-2015; sometimes
                            used to describe additional methods of standardizing machine “look and
                            feel” or PLC coding design patterns.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_2_machine_state">2.2 State or machine state</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            State or machine state: the current status or condition of the system in consideration.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Choose a machine and describe its states. For example, what are some states of an
                            automobile?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_3_state_model">2.3 State model</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            State model (finite): an abstract model or machine that can be in exactly one of a finite
                            number
                            of states at any given time. The model may change or transition from one state to another
                            in response to some input.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/state_machine_turnstile.png" />
                        <figcaption>
                            Figure X. A turnstile may be modeled by a simple state machine with two states: locked and
                            unlocked.
                            If the turnstile is locked, inserting a coin will transition the turnstile to the unlocked
                            state. Once unlocked, pushing
                            the barrier forward will return it to the locked state.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. What happens if you push the turnstile barrier without inserting a coin? How is this
                            feature
                            represented in the diagram above?
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="2_4_isa88_physical_model">2.4 ISA-88 physical model</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            ISA-88 physical model: a hierarchy describing the physical assets of a commercial
                            enterprise.
                            See ANSI/ISA-S88.01-1995. In this model, a Process Cell comprises one or more Units
                            responsible for producing a specific commodity.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/isa88_physical_model.png" />
                        <figcaption>
                            Figure X. The ISA-88 physical model describes the hierarchy of physical assets of a
                            commercial enterprise. PackML essentially "lives" at the unit level and describes
                            the overall status of the unit/machine (and its submodules).
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. One of the units shown in the figure above is the Filler. Give an example of one of its
                            (possible) equipment modules. Given an example of one of its control modules.
                        </p>

                        <p class="para">
                            b. In the ISA-88 physical model, do the Enterprise and Site levels ever effectively
                            coincide?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_5_machine_mode">2.5 Mode or machine mode</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            Mode (common meaning): a way or manner in which something occurs or is experienced,
                            expressed or
                            done.
                        </p>
                        <p class="para">
                            Unit/machine control mode: a way or manner in which a manufacturing machine is used.
                        </p>

                        <p class="para">
                            Mode manager: software that governs the transition from one machine mode to another.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Give some examples of packaging machine modes. In addition to packaging (or
                            producing) product, what other intended uses for a packaging machine are there?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_6_packtags">2.6 PackTags</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            PackTags: a set of naming conventions for software variables associated to data elements of
                            the unit/machine. Where appropriate, the unit of measurement associated with an individual
                            data element is specified.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="2_7_alarm_handler">2.7 Alarm handler</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            Alarm handler: software responsible for logging alarms or events occurring on the
                            unit/machine. Functionality for sorting or filtering the alarm history may also be present.

                            Some prefer the more general term <em>event handler</em>.
                        </p>
                    </div>


                </div>


                <!-- State diagram -->
                <div>
                    <h2 id="3_packml_states">3. PackML states</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            Chapter 3 covers the PackML state model, describing in detail each of the states, as well
                            as
                            the overall workflow.
                        </p>
                        <p class="para">
                            After completing the chapter, students should have a clear understanding of the PackML state
                            model.

                        </p>

                    </div>

                    <!-- -->
                    <h3 id="3_1_execute">3.1 EXECUTE state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the EXECUTE state. Stress the idea that if the machine is running and
                            producing
                            product, then from a PackML perspective, it is in EXECUTE state.
                        </p>
                        <p class="comment">
                            Reinforce the notion that PackML state is associated to specific machine behaviors;
                            the machine's operational behavior (and not the programmer's whim) determines what the
                            PackML state must be.
                        </p>
                        <p class="comment">
                            Throughout this chapter it is recommended to concentrate on the machine behavior associated
                            to each
                            state in Production mode, as these are in some sense the most well-defined. PackML modes
                            will
                            be discussed
                            in the next chapter, but instructors may want to briefly review the concept of mode here.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            If the unit/machine is actively carrying out the behavior or activity defined by the
                            selected mode, then the machine is in EXECUTE state. If the unit/machine is in PRODUCTION
                            mode, for example, this means that the machine is producing product.
                        </p>
                    </div>


                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_execute.png" />
                        <figcaption>
                            Figure X. In Production mode, Execute state indicates that the machine is running and
                            producing product.
                            From Execute, it is possible to Hold, Complete, Suspend, Stop or Abort.
                            <br> <br>
                            In this figure and
                            the subsequent figures in this chapter, the active state is shown in bright yellow. Possible
                            transition states are shown in pale yellow.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            Once the machine is processing materials it is in the EXECUTE state.
                            Different machine modes
                            will
                            result in specific types of EXECUTE activities. For example, if the machine is in the
                            “Production”
                            mode, the EXECUTE will result in products being produced, while in “Clean Out” mode
                            the
                            EXECUTE
                            state refers to the action of cleaning the machine.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Respond to this description of the PackML state machine: The PackML state tells you
                            whether
                            the machine is running (i.e. producing product) or not and, if not, why not. (Alternative:
                            The main function of the PackML state machine is to characterize what the machine is doing
                            when
                            it is not producing product.)
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_2_held">3.2 HELD state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the HELD state. Stress that in HELD state, the machine has paused due
                            to
                            internal or local process conditions, typically requiring immediate operator intervention.
                            "Low glue tank" or "Carton tray empty" would be examples of process conditions typically
                            associated with HELD state.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            In HELD state the unit/machine is paused, waiting for INTERNAL process conditions to clear.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_held.png" />
                        <figcaption>
                            Figure X. In the Held state, unit/machine production has paused due to an internal process
                            issue (e.g. low glue tank).
                            After the issue is addressed, unit/machine may transition to UNHOLDING state. Transitions to
                            Stopping or Aborting are
                            also permitted.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            HELD: Refer to HOLDING for when this state is used. In this state the machine shall not
                            produce
                            product.
                            It will either stop running or continue to dry cycle. A transition to the UNHOLDING state
                            will
                            occur when INTERNAL machine conditions change or an UNHOLD command is initiated by an
                            operator.
                        </p>

                        <p class="tr88">
                            HOLDING: This state shall be used when INTERNAL (inside this unit machine and not
                            from another machine on the production line) machine conditions do not
                            allow the machine to continue producing, that is, the machine leaves
                            EXECUTE due to internal conditions. This is typically used for routine
                            machine conditions that requires minor operator servicing to continue
                            production...
                        </p>

                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>


                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. What strategic actions could be taken if it is observed that over a prolonged period
                            (e.g. a month) a particular unit/machine is frequently paused in HELD state?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_3_suspended">3.3 SUSPENDED state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the SUSPENDED state. Stress that in SUSPENDED state, the machine has
                            paused due to
                            external process conditions, typically requiring immediate operator intervention elsewhere
                            (i.e. upstream
                            or downstream) in the process cell. "Downstream blockage" or "Infeed conveyor empty" would
                            be process
                            conditions typically associated with SUSPENDED state.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            In SUSPENDED state the unit/machine is paused, waiting for EXTERNAL process conditions to
                            clear.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_suspended.png" />
                        <figcaption>
                            Figure X. In the Suspended state, unit/machine production has paused due to an external
                            process
                            issue (e.g. downstream blockage).
                            After the issue is addressed, unit/machine may transition to UNSUSPENDED state. Transitions
                            to
                            Stopping or Aborting are also permitted.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            SUSPENDED: Refer to SUSPENDING for when this state is used. In this state the machine shall
                            not produce
                            product. It will either stop running or continue to cycle without producing until external
                            process conditions return to normal, at which time, the SUSPENDED state will transition to
                            the
                            UNSUSPENDING state, typically without any operator intervention.
                        </p>
                        <p class="tr88">
                            SUSPENDING: This state shall be used when EXTERNAL (outside this unit machine but
                            usually on the same integrated production line) process conditions do not
                            allow the machine to continue producing, that is, the machine leaves
                            EXECUTE due to upstream or downstream conditions on the line. This is
                            typically due to a blocked or starved event. This condition may be detected
                            by a local machine sensor or based on a supervisory system external
                            command...
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. What strategic actions could be taken if it is observed that over an extended period (e.g. a
                            month) a particular unit/machine is frequently paused in SUSPENDED state?
                        </p>
                        <p class="para">
                            b. Give an example of a machine that might not implement the SUSPENDED state in Production
                            mode.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_4_complete">3.4 COMPLETE state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the COMPLETE state. Stress that in COMPLETE state, the machine
                            behavior specific
                            to the given mode has come to its logical or assigned conclusion. In production mode,
                            COMPLETE state
                            typically indicates that for a given batch, the required number of products has been
                            produced.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            COMPLETE indicates the process associated with the active mode has come to its defined end.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_complete.png" />
                        <figcaption>
                            Figure X. In the Complete state, unit/machine production has ended, awaiting its next batch
                            assignment.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            COMPLETE: The machine has finished the COMPLETING state and is now waiting for a RESET
                            command before
                            transitioning to the RESETTING state.
                        </p>
                        <p class="tr88">
                            COMPLETING: This state is an automatic response from the EXECUTE state. Normal
                            operation has run to completion, i.e. processing of material at the infeed
                            will stop.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. If a unit/machine is in COMPLETE state, what steps must be taken next in the production
                            cycle?
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="3_5_idle">3.5 IDLE state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the IDLE state. Stress that in IDLE state, the unit/machine is ready
                            to be
                            started.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            In IDLE the unit/machine is in an error-free state, waiting to start.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_idle.png" />
                        <figcaption>
                            Figure X. In the Idle state, the unit/machine is typically in an error-free state and is
                            waiting to start.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            This is the state which indicates that RESETTING is complete. The machine will maintain the
                            conditions which were achieved during the RESETTING state, and perform operations required
                            when the machine
                            is in IDLE.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. If a unit/machine is in IDLE state, what steps must be taken next in the production cycle?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_6_stopped">3.6 STOPPED state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the STOPPED state. Stress that in STOPPED state, unit/machine
                            operation has stopped,
                            typically due to a decision by an operator or supervisory system, or due to internal machine
                            logic. Point out
                            that the STOPPED state is also reached after CLEARING.
                        </p>
                    </div>


                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            The unit/machine is powered and stationary after either STOPPING or CLEARING. All
                            communication with
                            supervisory, user interface, peer or other systems is active and functioning.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_stopped.png" />
                        <figcaption>
                            Figure X. In the STOPPED state, unit/machine operation has stopped due to a decision by an
                            operator or
                            supervisory system, or due to internal machine logic. The STOPPED state is also reached
                            after the machine is
                            cleared.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            The machine is powered and stationary after completing the STOPPING state. All
                            communications with other systems are functioning (if applicable). A RESET command will
                            cause an exit
                            from STOPPED to the RESETTING state.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. If a unit/machine is in STOPPED state, what steps must be taken next in the production
                            cycle?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_7_aborted">3.7 ABORTED state</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the ABORTED state. Associate the ABORTED state with emergency stop,
                            major hardware failures
                            or other severe errors.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            The ABORTED state generally indicates that an emergency stop, a major hardware failure or
                            some other severe error
                            has occurred.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_aborted.png" />
                        <figcaption>
                            Figure X. The ABORTED state indicates that a major fault has occurred.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            The machine maintains status information relevant to the ABORT condition. The machine can
                            only exit the
                            ABORTED state after an explicit CLEAR command, subsequently to manual intervention to
                            correct and reset
                            the detected machine faults.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, Table 1 (p. 17)
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Beyond clearing errors and restarting the machine, what additional steps might be
                            required if a unit/machine
                            is in ABORTED state?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_8_held_suspended">3.8 HELD vs. SUSPENDED</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Clarify or review the differences between HELD and SUSPENDED states. The
                            distinction between
                            internal versus external process conditions is key here. Point out that the process of
                            unsuspending is
                            typically done automatically, whereas the process of unholding may (or may not) require
                            operator intervention.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            The unit/machine will transition from EXECUTE to HOLDING if conditions internal to the
                            unit/machine
                            require a pause in production. Such conditions would include low levels on materials
                            required for
                            production or other minor issues requiring operator service, for example. The decision to
                            HOLD
                            may be made automatically by the unit/machine itself or by an operator.
                        </p>

                        <p class="para">
                            The unit/machine will transition from EXECUTE to SUSPENDING if conditions external to the
                            unit/machine
                            require a pause in production. Such conditions include faults to upstream or downstream
                            equipment.
                            The decision to SUSPEND may be made be a supervisory system monitoring the production line
                            conditions
                            or by unit/machine sensors detecting downstream blockages or upstream product scarcity. (In
                            the
                            former case, the unit/machine is "blocked"; in the latter case, the unit/machine is
                            "starved".)
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_9_stopped_aborted">3.9 STOPPED vs. ABORTED</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Clarify or review the differences between STOPPED and ABORTED states. Many view
                            the difference
                            as one of error or event severity, with the ABORTED state being reserved for the most severe
                            errors (e.g.
                            emergency stop, major hardware failure, etc.) One clear distinction provided by the standard
                            is the stopping
                            action required in STOPPING versus ABORTING states: "controlled stop" versus "rapid, safe
                            stop."
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            The unit/machine transitions to STOPPING in response to a STOP command. In this state the
                            unit/machine
                            performs all steps required to bring itself to a controlled stop.
                        </p>

                        <p class="para">
                            The unit/machine transitions to ABORTING in response to an ABORT command or an internal
                            machine fault.
                            In this state the unit/machine performs all steps required to bring itself to a rapid, safe
                            stop.
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="3_10_transition_states">3.10 Acting states</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Enumerate the acting or transition states: ABORTING, STOPPING, CLEARING, etc.
                            It is suggested
                            to describe them first in a generic or open-ended way: an acting state comprises all actions
                            required
                            to bridge from one wait state to another. Consider covering one or two acting states in some
                            detail
                            (e.g. Aborting, Starting).
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_transition.png" />
                        <figcaption>
                            Figure X. PackML states are divided into two types. The wait states (EXECUTE, HELD,
                            SUSPENDED,
                            COMPLETE, IDLE, STOPPED, ABORTED) have been discussed in the preceding sections. The
                            remaining states,
                            shown here in yellow, are known as acting states.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Describe internal machine functions that might occur during Starting state.
                        </p>

                        <p class="para">
                            b. Describe internal machine functions that might occur during Aborting state.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_11_clearing_resetting">3.11 CLEARING vs. RESETTING</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Clarify or review the differences between CLEARING and RESETTING states.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>

                        <p class="para">
                            CLEARING is initiated by a state command to clear faults that may have occurred when
                            ABORTING, and are present in the ABORTED state before proceeding to a
                            STOPPED state.
                        </p>

                        <p class="para">
                            RESETTING is the result of a RESET command from the STOPPED or
                            COMPLETE state. Faults and stop causes are reset. RESETTING will
                            typically cause safety devices to be energized and place the machine in the
                            IDLE state where it will wait for a START command. No hazardous motion
                            should happen in this state.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="3_12_state_commands">3.12 State commands</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Enumerate the PackML state commands: Abort, Stop, Clear, etc. Point out the
                            obvious
                            correspondence between the acting states and the associated state commands.
                        </p>

                        <p class="comment">
                            Note: ANSI/ISA-TR88.00.02-2021 introduces the Complete command, which initiates a transition
                            from EXECUTE to
                            COMPLETING. It is suggested to introduce this command here, as it is already in wide use and
                            it completes
                            the correspondence between the transition states and state commands.
                        </p>

                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_command.png" />
                        <figcaption>
                            Figure X. Transition from a wait state to an acting state is initiated by an associated
                            PackML state command.
                            Here the PackML state command "Start" is used to transition to state Starting. The same
                            relationship exists
                            between Hold and Holding, Complete and Completing, Abort and Aborting, etc.

                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="3_13_state_complete">3.13 State complete</h3>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: In the PackML state diagram, indicate how each the transition from an acting
                            state to the
                            subsequent wait state is governed by SC or state complete. Stress that state complete is a
                            logical condition that,
                            once satisfied, initiates a transition to the next state automatically.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_complete.png" />
                        <figcaption>
                            Figure X. Transition from an active state (here STARTING) to the subsequent wait state (here
                            EXECUTE) is governed
                            by an internal, logical condition known as state complete. State complete simply means that
                            all functional requirements
                            required for the given acting state have been met, so that transition to the next state may
                            automatically occur.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. On a given machine it is determined that while in STARTING state all servo axes should
                            synchronize with the master axis
                            and all conveyors should begin to run. In general terms, what would the associated state
                            complete condition look like?
                        </p>
                    </div>


                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. In which states may the Abort command be called?
                        </p>

                        <p class="para">
                            b. In which states may the Stop command be called?
                        </p>

                        <p class="para">
                            c. Which PackML commands are available in the Execute state?
                        </p>

                        <p class="para">
                            d. What is the relationship between PackML commands and the acting states?
                        </p>

                        <p class="para">
                            e. Each PackML state is assigned a unique fixed number. List these.
                        </p>

                    </div>



                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Processing on a given machine has paused due to a low level fault on a glue tank. From a
                            PackML perspective,
                            what state is the machine in?
                        </p>

                        <p class="para">
                            b. A machine has processed all units required for a given batch and has come to rest. From a
                            PackML perspective, what state is the machine in?
                        </p>

                        <p class="para">
                            c. A machine has come to rest due to an emergency stop. From a
                            PackML perspective, what state is the machine in?
                        </p>

                        <p class="para">
                            d. Give an example of a machine which might not implement the Suspended state in Production
                            mode.
                        </p>

                    </div>


                </div>

                <!-- Mode management, revisited -->
                <div>
                    <h2 id="4_packml_modes">4. PackML modes</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            Chapter 4 discusses PackML modes and mode management.
                        </p>
                        <p class="para">
                            After completing the chapter, students should be able to identify the modes
                            of particular piece of equipment. It should also be clear how the PackML
                            state machine may be redeployed in each mode.
                        </p>

                    </div>

                    <!-- -->
                    <h3 id="4_1_production">4.1 Production mode</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce Production mode. Stress the idea that if the unit/machine is
                            producing
                            product, or attempting to produce product, then from a PackML perspective, it is in
                            Production
                            mode.
                        </p>
                        <p class="comment">
                            Reinforce the notion that, while not all PackML states need to be implemented in Production
                            mode, the decision to include a particular state or not is determined solely by the
                            machine's
                            operational behavior.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_production.png" />
                        <figcaption>
                            Figure X. Production mode is used when the user is intending to produce product. Often, all
                            PackML states are supported in this mode.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. ANSI/ISA-TR88.00.02-2015 tacitly assumes that Production mode always be supported in any
                            PackML implementation.
                            Why is this assumption natural and/or justified?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="4_2_maintenance">4.2 Maintenance mode</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce Maintenance mode. Indicate that Maintenance is an optional mode, used
                            to
                            allow authorized personnel to run the machine independent of other machines in the process
                            cell.
                        </p>
                        <p class="comment">
                            Reiterate that while the machine is actively carrying out the behavior specified by
                            Maintenance
                            mode, the machine is in EXECUTE state.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_maintenance.png" />
                        <figcaption>
                            Figure X. Maintenance mode may be used for trouble-shooting or to test operational
                            improvements.
                            Because Maintenance mode allows the unit/machine to be run independent of the other machines
                            in
                            the process cell, SUSPENDED state is often not implemented.
                            <br></br>
                            ANSI/ISA-TR88.00.02-2015 suggests that the state model shown would be typical for
                            Maintenance mode, but this is not
                            a requirement.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. Why is SUSPENDED state typically not included in Maintenance mode?
                        </p>
                        <p class="para">
                            b. Why is COMPLETE state typically not included in Maintenance mode?
                        </p>
                        <p class="para">
                            c. TODO: Consider adding questions re: product counters and/or OEE to clarify that product
                            counters should be inactive
                            in maintenance mode.
                        </p>

                    </div>

                    <!-- -->
                    <h3 id="4_3_manual">4.3 Manual mode</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce Manual mode. Indicate that Manual is an optional mode, used to
                            provide direct control of individual machine modules.
                        </p>
                        <p class="comment">
                            Reiterate that while the machine is actively carrying out the behavior specified by Manual
                            mode, the machine is in EXECUTE state.
                        </p>
                    </div>


                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_manual.png" />
                        <figcaption>
                            Figure X. Manual mode may be used for the commissioning of individual drives, verifying
                            the operation of machine subsystems, or similar. Typically direct operator control over
                            the active module is used (e.g. via jog button).
                            <br></br>
                            ANSI/ISA-TR88.00.02-2015 suggests that the state model shown would be typical for Manual
                            mode, but this is not
                            a requirement.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. A capping machine includes functionality to manually run the cap feed system. Would it
                            make sense to include the HELD state in Manual mode in this case?
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="4_4_additional_modes">4.4 Additional modes</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Provide examples of additional modes that might be present on a packaging
                            machine. In each
                            case, describe the associated PackML state model (or subset thereof) and justify why this
                            set of sub-states
                            was implemented.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="4_5_mode_management">4.5 Mode management</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the concept of Mode management, the software or logical rules that
                            control the
                            transition from one mode to another.
                        </p>
                        <p class="comment">
                            Stress that when transitioning from one mode to another, PackML stipulates that a
                            simultaneous state
                            change may not occur. A consequence of this rule is that a mode change is only allowed while
                            the machine
                            is in a state common to both modes.
                        </p>
                    </div>

                    <figure>
                        <img id="packml_mode_management" src="images/packml_mode_management.png" />
                        <figcaption>
                            Figure X. Add comment here. Image credit: Patrick Toohey.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-question"></i> </div>
                        <p class="para">
                            a. A packaging machine includes a Cleaning mode cycle that should be executed automatically
                            once per hour during
                            a production run. How would you suggest managing this mode transition? Would it make sense
                            to allow such a mode transition to occur while in Execute state?
                        </p>
                    </div>

                </div>


                <!-- PackTags -->
                <div>
                    <h2 id="5_packtags">5. PackTags</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            Chapter 5 focuses on the PackML data interface: PackTags.
                        </p>
                        <p class="para">
                            After completing the chapter, students should be able to identify the
                            minimal subset of PackTags required for standard compliance. They should
                            understand how the three tag types (Command, Status and Admin) are classified
                            and used. In this basic course, the intention is not to examine each tag in
                            detail, but rather to give a broad overview of the type of information
                            available.
                        </p>

                    </div>

                    <!-- -->
                    <h3 id="5_1_packtag_types">5.1 PackTag types</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the three basic PackTag types: Command, Status and Admin.
                        </p>
                    </div>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_basic_types.svg" />
                        <figcaption>
                            Figure X. PackTags are grouped into three basic types: Command, Status and Admin.
                        </figcaption>
                    </figure>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            PackTags are broken out into three groups: command, status and administration.
                            Command and status tags contain data required for interfacing between machines
                            and line control for coordination, or for recipe/parameter download. Command
                            tags are "written" to and consumed by the machine program, as the "information
                            receiver", while status tags are produced by and read from the machine program.
                            Administration tags contain data collected by higher level systems for machine
                            performance analysis, or operator information. Generally informational data
                            is passed using OPC on an Ethernet-based communication network.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 7.2 Tag types (p. 31)
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="5_1_1_command_tags">5.1.1 Command tags</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the top-level Command tags. Note that, where appropriate, a specific
                            unit of measure (e.g. primary packages/min) is assumed. Clarify that the Command tags are
                            grouped into a structured data type named PMLc.
                        </p>
                        <p class="comment">
                            Supervisors and peers may write to the Command tags.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            Command tags are used to control the operation of the unit machine. Command tags include
                            unit
                            state commands which control the state transitions in the base state model. The command tags
                            also include parameters and process variables which control how the machine ope rates.
                            Command tags generally originate from the machine user or a remote system. The originator of
                            the command in this report is defined as the "requestor" or "information sender". The unit
                            machine
                            in this report is known as the "execution system".
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 7.5.1 Command tags (p. 45)
                        </p>
                    </div>

                    <table id="table-type-pmlc">
                        <caption>Table X: Components of the Command structure: PMLc</caption>
                        <tr>
                            <th colspan=2>Tag</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>Command</td>
                            <td></td>
                            <td>PMLc</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>UnitMode</td>
                            <td>DINT</td>
                            <td>Numeric representation of the commanded unit mode</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>UnitModeChangeRequest</td>
                            <td>BOOL</td>
                            <td>Request activation of current value of Command.UnitMode</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MachSpeed</td>
                            <td>REAL</td>
                            <td>Machine speed setpoint [primary packages/min]</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MaterialInterlock[32]</td>
                            <td>BOOL</td>
                            <td>Bitwise indication that materials are ready for processing</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>CntrlCmd</td>
                            <td>DINT</td>
                            <td>Numeric representation of the commanded state (1=Reset, 2=Start, etc.)</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>RemoteInterface[#]</td>
                            <td>Interface structure</td>
                            <td>Coordination of activities between peers</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Parameter[#]</td>
                            <td>Descriptor structure</td>
                            <td>Machine parameterization values</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Product[#]</td>
                            <td>Product structure</td>
                            <td>Recipe or process data associated to produced goods</td>
                        </tr>
                    </table>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_command.png" />
                        <figcaption>
                            Figure X. The top-level Command tags are listed. Note that the associated structured data
                            type
                            is PMLc. (The STRUCT notation shown is specified in IEC 61131-3; structured data types in
                            non-PLC
                            languages are defined similarly.) See also the definition for PACKMLV30 in &#167;5.2.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="5_1_2_status_tags">5.1.2 Status tags</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the top-level Status tags. Note that, where appropriate, a specific
                            unit of measure (e.g. primary packages/min) is assumed. Clarify that the Status tags are
                            grouped into a structured data type named PMLs.
                        </p>
                        <p class="comment">
                            Supervisors and peers may read the Status tags.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            Status tags are used to describe the operation of the unit machine. Status tags include
                            state
                            commands which describe the state transitions in the base state model. The status tags also
                            include parameters and process variables which describe how the machine operate s. Status
                            tags
                            generally originate from the unit machine user and can be used on a remote system. The
                            originator
                            of the status tags in this report is defined as the "execution system".
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 7.5.2 Status tags (p. 53)
                        </p>
                    </div>

                    <table id="table-type-pmls">
                        <caption>Table X: Components of the Status structure: PMLs</caption>
                        <tr>
                            <th colspan=2>Tag</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>Status</td>
                            <td></td>
                            <td>PMLs</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>UnitModeCurrent</td>
                            <td>DINT</td>
                            <td>Numeric representation of the active unit mode</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>UnitModeRequested</td>
                            <td>BOOL</td>
                            <td>Handshaking bit acknowledging unit mode change request</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>UnitModeChangeInProgress</td>
                            <td>BOOL</td>
                            <td>Unit mode change request has been accepted; switching is in progress</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StateCurrent</td>
                            <td>DINT</td>
                            <td>Numeric representation of active state</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StateRequested</td>
                            <td>DINT</td>
                            <td>Handshaking value acknowledging that state change request has been make</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StateChangeInProgress</td>
                            <td>BOOL</td>
                            <td>State change request has been accepted; switching is in progress</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MachSpeed</td>
                            <td>REAL</td>
                            <td>Active machine speed setpoint</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>CurMachSpeed</td>
                            <td>REAL</td>
                            <td>Current/actual machine speed [primary products/min]</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MaterialInterlock[32]</td>
                            <td>BOOL</td>
                            <td>Bitwise indication that materials are ready for processing</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>EquipmentInterlock</td>
                            <td>Equipment interlock structure</td>
                            <td>Signals that the machine is blocked or starved</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>RemoteInterface[#]</td>
                            <td>Interface structure</td>
                            <td>Coordination of activities between peers</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Parameter[#]</td>
                            <td>Descriptor structure</td>
                            <td>Current machine parameterization values</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Product[#]</td>
                            <td>Product structure</td>
                            <td>Current recipe or process data associated to produced goods</td>
                        </tr>
                    </table>


                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_status.png" />
                        <figcaption>
                            Figure X. The top-level Status tags are listed. Note that the associated structured data
                            type
                            is PMLs. See also the definition for PACKMLV30 in &#167;5.2.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="5_1_3_admin_tags">5.1.3 Admin tags</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Introduce the top-level Admin tags. Note that, where appropriate, a specific
                            unit of measure (e.g. primary packages/min) is assumed. Clarify that the Admin tags are
                            grouped into a structured data type named PMLa.
                        </p>
                        <p class="comment">
                            Supervisors and peers may read the Admin tags.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            Administration tags are used to describe the quality and alarm information of the unit
                            machine.
                            Administration tags include alarm parameters which describe the conditions within the base
                            state
                            model typically for production data acquisition (PDA) systems. The administration tags also
                            include
                            parameters which can describe how well the machine operates, or specific information on the
                            product quality produced by the machine. Administration tags generally originate from the
                            unit
                            machine and can be used on the HMI or a remote system.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 7.5.3 Administration tags (p. 62)
                        </p>
                    </div>

                    <table id="table-type-pmls">
                        <caption>Table X: Components of the Admin structure: PMLa</caption>
                        <tr>
                            <th colspan=2>Tag</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>Admin</td>
                            <td></td>
                            <td>PMLa</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Parameter[#]</td>
                            <td>Descriptor structure</td>
                            <td>Parameters associated to the local interface (e.g. HMI)</td>
                        </tr>

                        <tr>
                            <td></td>
                            <td>Alarm[#]</td>
                            <td>Alarm structure</td>
                            <td>Listing of all currently active alarms</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>AlarmExtent</td>
                            <td>DINT</td>
                            <td>Extent of the Alarm array</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>AlarmHistory[#]</td>
                            <td>Alarm structure</td>
                            <td>Chronological alarm history, typically with the most recent alarm listed first</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>AlarmHistoryExtent</td>
                            <td>DINT</td>
                            <td>Extent of the AlarmHistory array</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StopReason[#]</td>
                            <td>Alarm struct</td>
                            <td>Alarm(s) associated to last machine stoppage; used in "first out fault" reporting</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StopReasonExtent</td>
                            <td>DINT</td>
                            <td>Extent of the StopReason array</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Warning</td>
                            <td>Alarm structure</td>
                            <td>Listing of all currently active warnings</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>WarningExtent</td>
                            <td>DINT</td>
                            <td>Warning array extent</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ModeCurrentTime[#]</td>
                            <td>DINT</td>
                            <td>Elapsed time in seconds of current mode; array index is associated to mode value
                                (1=Production, etc.)</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ModeCumulativeTime[#]</td>
                            <td>DINT</td>
                            <td>Cumulative time in seconds per mode</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StateCurrentTime[#,#]</td>
                            <td>DINT</td>
                            <td>Elapsed time in seconds per [mode, state] pair</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StateCumulativeTime[#,#]</td>
                            <td>DINT</td>
                            <td>Cumulative time in seconds per [mode, state] pair</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ProdConsumedCount[#]</td>
                            <td>Count structure</td>
                            <td>Count of materials used or consumed during production</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ProdProcessedCount[#]</td>
                            <td>Count structure</td>
                            <td>Count of total products (incl. defects) made during production</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ProdDefectiveCount[#]</td>
                            <td>Count structure</td>
                            <td>Count of defective products made during production</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>AccTimeSinceReset</td>
                            <td>DINT</td>
                            <td>Elapsed time since last reset of mode/state timers or counters</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MachDesignSpeed</td>
                            <td>DINT</td>
                            <td>Maximum design speed in primary packages per minute for a given product or package
                                configuration</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>StatesDisabled</td>
                            <td>DINT</td>
                            <td>Bitwise indication of the states disabled in the current mode</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>PlcDateTime[7]</td>
                            <td>DINT</td>
                            <td>Current time of the PLC clock [yr, mon, day, hr, min, sec, &mu;sec]</td>
                        </tr>
                    </table>


                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_admin.png" />
                        <figcaption>
                            Figure X. The top-level Admin tags are listed. Note that the associated structured data type
                            is PMLa. See also the definition for PACKMLV30 in &#167;5.2.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="5_2_base_type">5.2 Base type</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Structured data type PACKMLV30 comprises the Command, Status and Admin types
                            described
                            previously. Note that ANSI/ISA-TR88.00.02-2015 does not specify the name associated with the
                            instance
                            of this type.
                        </p>
                        <p class="comment">
                            Throughout this document we will use UnitName as a placeholder for the actual instance name.
                        </p>
                    </div>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            PACKMLV30 – is a placeholder for the machine unit name, and is the top level in the
                            PackTag structure.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                        </p>
                    </div>

                    <table id="table-type-packmlv30">
                        <caption>Table X. Components of the top-level PackTags structure: PACKMLV30</caption>
                        <tr>
                            <th colspan=2>Tag</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td style="font-style: italic;">UnitName</td>
                            <td></td>
                            <td>PACKMLV30</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Command</td>
                            <td>PMLc</td>
                            <td>Command data produced by 'information sender' (e.g machine peers, etc.)</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Status</td>
                            <td>PMLs</td>
                            <td>Status data produced for 'information sender'</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>Admin</td>
                            <td>PMLa</td>
                            <td>Administration data produced for higher level supervisory systems</td>
                        </tr>
                    </table>

                    <figure>
                        <img id="summary-packml-state-model" src="images/packtags_packmlv30.png" />
                        <figcaption>
                            Figure X. Type PACKMLV30, the top level PackTag type, consists of the Command, Status and
                            Admin tags described
                            in the previous sections. The instance name of this type is not specified by
                            ANSI/ISA-TR88.00.02-2015.
                        </figcaption>
                    </figure>

                    <!-- -->
                    <h3 id="5_3_elementary_types">5.3 Elementary types</h3>
                    <table id="table-summary-navigation-contexts">
                        <caption>Table X. Listing of elementary data types</caption>
                        <tr>
                            <th>Type</th>
                            <th>IEC 61161-3</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>Boolean</td>
                            <td>BOOL</td>
                            <td>1-bit (1 byte memory typical)</td>
                        </tr>
                        <tr>
                            <td>Integer</td>
                            <td>DINT</td>
                            <td>32-bit, signed decimal format</td>
                        </tr>
                        <tr>
                            <td>Real</td>
                            <td>REAL</td>
                            <td>32-bit IEEE 754 standard floating point format</td>
                        </tr>
                        <tr>
                            <td>String</td>
                            <td>STRING</td>
                            <td>null-terminated ASCII, 80 characters maximum</td>
                        </tr>
                        <tr>
                            <td>Date and time</td>
                            <td>DINT[0..6]</td>
                            <td>[year, month, day, hour, min, sec, &mu;sec]</td>
                        </tr>
                    </table>

                    <!-- -->
                    <h3 id="5_4_subtypes">5.4 Structured data types</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: The structure data types that comprise the rest of the PackTags definition are
                            listed in
                            Appendix A.3. In a basic course, instructors may wish to skip these details.
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="5_5_required_set">5.5 Required PackTags</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Review the complete list of required PackTags in detail. Correct implementation
                            of the
                            full set of these tags is critical for PackML compliance.
                        </p>
                        <p>
                            This list is repeated in &#167;7.3, there with an emphasis on the data structure hierarchy.
                        </p>

                    </div>

                    <table id="table-summary-navigation-contexts">
                        <caption>Table X. Listing of required PackTags </caption>
                        <tr>
                            <th>Tag</th>
                            <th>IEC 61161-3</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.UnitModeCurrent</b></td>
                            <td>DINT</td>
                            <td>0 Invalid, 1 Production, 2 Maintenance, 3 Manual, 4-31 User-defined</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.StateCurrent</b></td>
                            <td>DINT</td>
                            <td>0 Undefined, 1 Clearing, 2 Stopped, 3 Starting, 4 Idle, 5 Suspended,
                                6 Execute, 7 Stopping, 8 Aborting, 9 Aborted, 10 Holding, 11 Held,
                                12 Unholding, 13 Suspending, 14 Unsuspending, 15 Resetting, 16 Completing,
                                17 Complete
                            </td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.MachSeed</b></td>
                            <td>REAL</td>
                            <td>Current set speed [prim. pkg/min]</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.CurMachSeed</b></td>
                            <td>REAL</td>
                            <td>Current actual speed [prim. pkg/min]</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.EquipmentInterlock.Blocked</b></td>
                            <td>BOOL</td>
                            <td>Indicates downstream blocked condition</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Status.EquipmentInterlock.Starved</b></td>
                            <td>BOOL</td>
                            <td>Indicates upstream starved condition</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Admin.StopReason.ID</b></td>
                            <td>DINT</td>
                            <td>Unique value assigned to stop reason</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Admin.ProdProcessedCount[#].Count</b></td>
                            <td>DINT</td>
                            <td>Total processed count</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Admin.ProdDefectiveCount[#].Count</b></td>
                            <td>DINT</td>
                            <td>Total bad count</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Command.MachSpeed</b></td>
                            <td>REAL</td>
                            <td>Machine throughput set point [prim. pkg/min]</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Command.UnitMode</b></td>
                            <td>DINT</td>
                            <td>Integer value associated to commanded unit mode</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Command.UnitModeChangeRequest</b></td>
                            <td>BOOL</td>
                            <td>Unit mode change request trigger</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Command.CntrlCmd</b></td>
                            <td>DINT</td>
                            <td>Integer value associated to state command: 1 Reset, 2 Start, 3 Stop,
                                4 Hold, 5 Unhold, 6 Suspend, 7 Unsuspend, 8 Abort, 9 Clear, 10 Complete</td>
                        </tr>
                        <tr>
                            <td> <em>UnitName.</em><br /><b>Command.CmdChangeRequest</b></td>
                            <td>BOOL</td>
                            <td>State change request trigger</td>
                        </tr>
                    </table>

                    <!-- -->
                    <h3 id="5_6_vendor_specific_tools">5.6 Vendor-specific tools</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: If the vendor provides software that may aid the student in declaring the set
                            of
                            PackTags in his or her code, introduce it here.
                        </p>
                    </div>



                </div>

                <!-- Implementation strategies -->
                <div>
                    <h2 id="6_implementation">6. Implementation strategies</h2>
                    <hr class="black" />


                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            The purpose of Chapter 6 is to give students practical advice on
                            how PackML may be implemented in code.
                        </p>
                        <p class="para">
                            Vendors or technology provides are asked to provide details of their own
                            libraries or toolsets, including a review of best practices.
                        </p>

                        <p class="para">
                            Prior to presenting any vendor-specific templates or toolsets, introduce the idea
                            of adding a PackML interface layer to an existing code base - the so-cold gateway
                            approach. Discuss use cases when such an approach is feasible or even preferable.
                            Afterwards, when presenting the full template, present all available tools,
                            design patterns, documentation, etc.
                        </p>

                        <p class="para">
                            Chapter 6 is optional. The material here is mainly geared towards programmers and may
                            be skipped for general audiences.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="6_1_existing_resources">6.1 Existing resources</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Please highlight some of the existing resources that are available from OMAC.
                            Most pertinent to this chapter is PackML Unit/Machine Implementation Guide, Part 1:
                            PackML Interface State Manager, but guides describing best practices for HMI design,
                            OPC UA, etc. are also available. See &#167;8.2 for more information.
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="6_2_gateway_approach">6.2 Gateway approach</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Describe the so-called "gateway" approach to PackML implementation. In
                            this approach, the states of a proprietary state manager are associated or "mapped"
                            to the PackML states. Note that this mapping may not be one-to-one. For example,
                            the proprietary state machine may have a single error state, which, depending on the
                            context, would need to be mapped to the ABORTED, STOPPED, HELD or SUSPENDED state.
                        </p>
                        <P class="comment">
                            In this approach, PackML acts as a kind of interface layer, with minimal impact on the
                            existing code.
                        </P>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            When PackML is implemented using the gateway approach, the states of a user-defined or
                            proprietary state manager are "mapped" to the PackML states. For example, a user-defined
                            error state may, depending on the context, be associated with ABORTED, STOPPED, HELD or
                            SUSPENDED state.
                        </p>
                        <p class="para">
                            This approach may not be feasible in all cases. Success depends to some extent on how
                            closely
                            the user-defined state machine resembles the PackML state machine. Further, when evaluating
                            whether
                            the gateway approach is suitable for a particular application, consider also the PackML
                            workflow.
                            Strictly speaking, it is not sufficient to develop a simple mapping of the states. Rather,
                            it is
                            required to map the states in such a way that the PackML workflow is followed. For example,
                            PackML state machine does not allow a transition directly from STOPPED state to HELD state.
                            Care must be taken to avoid such transitions.
                        </p>
                        <p class="para">
                            The gateway approach has successfully been applied to legacy equipment and in some
                            situations
                            where controller memory is limited. On the other hand, if the underlying code base does not
                            employ any state machine at all, or if internal machine states are not clearly identifiable,
                            then a
                            full reworking of the code base is warranted in most cases.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="6_3_full_integration">6.3 Full integration</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Describe the so-called "full integration" approach to PackML implementation. In
                            this case,
                            PackML is integrated into the code from the ground up, often based on a template provided by
                            the vendor.
                        </p>
                    </div>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>
                        <p class="para">
                            When PackML is fully integrated into the code base, the PackML state machine plays a central
                            role in the
                            machine logic. Often such machines are based on a vendor-specific template, but this is not
                            a requirement.
                        </p>

                        <p class="para">
                            Note that some vendors provide multiple PackML templates to cover the full range of their
                            controllers.
                        </p>
                        <p class="para">
                            The term "full integration" is not meant to imply a greater measure of compliance. Projects
                            fully compliant with
                            ANSI-ISA-TR88.00.02-2015 may be based on the gateway approach. In terms of compliance, both
                            approaches are
                            acceptable.

                        </p>
                    </div>

                    <!-- -->
                    <h3 id="6_3_1_template_overview">6.3.1 Template overview</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Add vendor-specific content to provide an overview your system's PackML
                            template. Describe any
                            available libraries and their associated documentation. Describe any additional tools. If a
                            given template
                            is not universally applicable, describe any hardware requirements/limitations in detail.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="6_3_2_modularity">6.3.2 Modularity</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: If your system has a mechanism or toolset to support code modularity, introduce
                            it here. In
                            particular, describe how each module reports to the unit/machine that it is state complete.
                        </p>
                    </div>

                    <!-- -->
                    <h3 id="6_3_3_alarm_handling">6.3.3 Alarm handling</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: Add content describing your system's alarm handler. Describe in detail
                            how the alarm handler interfaces with the state machine and, in particular, how
                            transitions to Aborted, Stopped, Held or Suspended states are triggered.
                        </p>
                    </div>
                </div>

                <!-- Minimum requirements -->
                <div>
                    <h2 id="7_minimum_requirements">7. Minimum requirements</h2>
                    <hr class="black" />

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-bullseye"></i> </div>
                        <p class="para">
                            The purpose of Chapter 7 is to give students clear direction on the minimal requirements for
                            a conformant
                            PackML implementation.
                        </p>
                        <p class="para">
                            Some instructors may wish to incorporate this information into the earlier sections. The
                            minimum requirements
                            are presented here as a separate chapter mainly to serve as a reference. In this form there
                            is the additional
                            benefit of providing a review of some of the basic concepts (e.g. mode, state, PackTags).
                        </p>
                    </div>


                    <!-- -->
                    <h3 id="7_1_minimum_mode">7.1 Minimum mode requirements</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: ANSI-ISA-TR88.00.02-2015 does not have any explicit requirements with respect
                            to machine mode.
                            However, it is tacitly assumed that the machine will have at least a production mode. See
                            below.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-file"></i> </div>
                        <p class="tr88">
                            Production mode - This represents the mode which is utilized for routine production. The
                            machine
                            executes relevant logic in response to commands which are either entered directly by the
                            operator
                            or issued by another supervisory system.
                        </p>
                        <p class="tr88-ref">
                            ANSI/ISA-TR88.00.02-2015, 5.1 Unit/Machine control modes (p. 23)
                        </p>
                    </div>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>

                        <p class="para">
                            It is assumed that a unt/machine will always have a Production mode; whenever a unit/machine
                            is producing goods,
                            it is Production mode. In this case, <em>UnitMachine</em>.Status.UnitModeCurrent is assigned
                            a value of 1.
                        </p>

                        <p class="para">
                            Additional modes are optional. If Maintenance mode is present and active,
                            <em>UnitMachine</em>.Status.UnitModeCurrent=2.
                            If Manual mode is present and active, <em>UnitMachine</em>.Status.UnitModeCurrent=3. Any
                            user-defined modes must be assigned
                            a number greater than 3.
                        </p>
                    </div>



                    <!-- -->
                    <h3 id="7_2_minimum_state">7.2 Minimum state requirements</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: ANSI-ISA-TR88.00.02-2015 requires any mode to include states Aborted, Stopped,
                            Idle and Execute. Remind students
                            that this requirement is not meant as a way for them to simplify their code, just that some
                            modes may not require all states in
                            order to be modeled in a way that is consistent with the state definitions described
                            previously. See additional comments below.
                        </p>
                    </div>

                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-key"></i> </div>

                        <p class="para">
                            The minimum state requirements are not meant to convey that the additional states are
                            optional in any broad sense. States must be
                            included whenever the machine or system behavior warrants it. For example, if during a
                            production run a downstream blockage is detected,
                            it is expected that the machine will transition to Suspended state. Any other behavior would
                            be considered non-conformant and cannot
                            be justified simply by pointing out that Suspended state is not <em>required</em>.
                        </p>
                    </div>
                    <table id="table-minimum-state-requirements">
                        <caption>Table X. Minimum state requirements. See ANSI-ISA-TR88.00.02-2015, Figure 2 (p. 16)
                        </caption>
                        <tr>
                            <th>Value</th>
                            <th>State</th>
                            <th>Required</th>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>CLEARING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><b>STOPPED</b></td>
                            <td>X</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>STARTING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td><b>IDLE</b></td>
                            <td>X</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>SUSPENDED</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td><b>EXECUTE</b></td>
                            <td>X</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>STOPPING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>ABORTING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td><b>ABORTED</b></td>
                            <td>X</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td>HOLDING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td>HELD</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>12</td>
                            <td>UNHOLDING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td>SUSPENDING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>14</td>
                            <td>UNSUSPENDING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>15</td>
                            <td>RESETTING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>16</td>
                            <td>COMPLETING</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>17</td>
                            <td>COMPLETE</td>
                            <td></td>
                        </tr>

                    </table>

                    <!-- -->
                    <h3 id="7_3_minimum_tag">7.3 Minimum PackTag requirements</h3>
                    <div class="key">
                        <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                        <p class="comment">
                            Instructors: The minimum required PackTags were introduced in &#167;5.5.
                            They are listed here again (with emphasis on the data structure hierarchy)
                            for completeness.
                        </p>
                    </div>


                    <table id="table-required-packtags">
                        <tr>
                            <th colspan=4>Tag</th>
                            <th>Path</th>
                            <th>Type</th>
                        </tr>
                        <tr>
                            <td> <em>UnitName</em></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PACKMLV30</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td>Status</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PMLs</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>UnitModeCurrent</td>
                            <td></td>
                            <td> <em>UnitName.</em><br /><b>Status.UnitModeCurrent</b></td>
                            <td>DINT</td>
                        </tr>

                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>StateCurrent</td>
                            <td></td>
                            <td> <em>UnitName.</em><br /><b>Status.StateCurrent</b></td>
                            <td>DINT</td>
                        </tr>

                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>MachSeed</td>
                            <td></td>
                            <td> <em>UnitName.</em><br /><b>Status.MachSeed</b></td>
                            <td>REAL</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>CurMachSeed</td>
                            <td></td>
                            <td> <em>UnitName.</em><br /><b>Status.CurMachSeed</b></td>
                            <td>REAL</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>EquipmentInterlock</td>
                            <td></td>
                            <td></td>
                            <td>EquipmentInterlock structure</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>Blocked</td>
                            <td> <em>UnitName.</em><br /><b>Status.EquipmentInterlock.Blocked</b></td>
                            <td>BOOL</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>Starved</td>
                            <td> <em>UnitName.</em><br /><b>Status.EquipmentInterlock.Starved</b></td>
                            <td>BOOL</td>
                        </tr>
                    </table>

                    <table id="table-required-packtags-admin">
                        <tr>
                            <th colspan=4>Tag</th>
                            <th>Path</th>
                            <th>Type</th>
                        </tr>
                        <tr>
                            <td> <em>UnitName</em></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PACKMLV30</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td>Admin</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PMLa</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>ProdProcessedCount[#]</td>
                            <td></td>
                            <td> </td>
                            <td>Count structure</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>Count</td>
                            <td> <em>UnitName.</em><br /><b>Admin.ProdProcessedCount[#].Count</b></td>
                            <td>DINT</td>
                        </tr>

                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>ProdDefectiveCount[#]</td>
                            <td></td>
                            <td> </td>
                            <td>Count structure</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>Count</td>
                            <td> <em>UnitName.</em><br /><b>Admin.ProdDefectiveCount[#].Count</b></td>
                            <td>DINT</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td>StopReason[#]</td>
                            <td></td>
                            <td> </td>
                            <td>Alarm structure</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>ID</td>
                            <td> <em>UnitName.</em><br /><b>Admin.StopReason.ID</b></td>
                            <td>DINT</td>
                        </tr>

                    </table>

                    <table id="table-required-packtags-command">
                        <tr>
                            <th colspan=4>Tag</th>
                            <th>Path</th>
                            <th>Type</th>
                        </tr>
                        <tr>
                            <td> <em>UnitName</em></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PACKMLV30</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td>Command</td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td>PMLc</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>MachSpeed</td>
                            <td> <em>UnitName.</em><br /><b>Command.MachSpeed</b></td>
                            <td>REAL</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>UnitMode</td>
                            <td> <em>UnitName.</em><br /><b>Command.UnitMode</b></td>
                            <td>DINT</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>UnitModeChangeRequest</td>
                            <td> <em>UnitName.</em><br /><b>Command.UnitModeChangeRequest</b></td>
                            <td>BOOL</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>CntrlCmd</td>
                            <td> <em>UnitName.</em><br /><b>Command.CntrlCmd</b></td>
                            <td>DINT</td>
                        </tr>
                        <tr>
                            <td> <em></em></td>
                            <td></td>
                            <td></td>
                            <td>CmdChangeRequest</td>
                            <td> <em>UnitName.</em><br /><b>Command.CmdChangeRequest</b></td>
                            <td>BOOL</td>
                        </tr>
                    </table>

                </div>


                <!-- References -->
                <div>
                    <h2 id="8_references">8. References</h2>
                    <hr class="black" />

                    <!-- -->
                    <h3 id="8_1_standards">8.1 Standards</h3>
                    <p class="para">
                        PackML is specified by standard ANSI/ISA-TR88.00.02-2015. It is available for purchase
                        at <a href="www.isa.org">www.isa.org</a>.

                    </p>

                    <!-- -->
                    <h3 id="8_2_implementation_guides">8.2 Implementation guides</h3>
                    <p class="para">
                        The OMAC Packaging Workgroup is an ongoing effort to maximize the value of PackML. In
                        addition to maintaining the standard itself, they have sponsored a number of implementation
                        guides and whitepapers available here: <a
                            href="https://omac.org/workgroups/packaging-workgroup/">
                            omac.org/workgroups/packaging-workgroup/</a>.
                    </p>
                    <p class="para">
                        In particular, for general advice on PackML implementation, see <b>PackML Unit/Machine
                            Implementation
                            Guide, <em>Part 1: PackML Interface State Manager</em></b>.
                    </p>

                    <p class="para">
                        For a discussion of focusing on the design of human-machine interfaces, as well as an overview
                        of the
                        PackML stacklight standard, see <b>PackML Unit/Machine Implementation Guide, <em>Part 6: PackML
                                HMIs -
                                User Interfaces, Stacklights and Push-Button Controls</em></b>.
                    </p>

                    <p class="para">
                        New for 2021 is the <b>Practical Guide for Remote Access to Plant Equipment</b>. Here readers
                        will find
                        practical advice on a wide range of topics critical to IIoT and Industry 4.0: implementing a
                        remote
                        access plan, bridging the worlds of IT and OT, cyber-security and much more.
                    </p>

                    <p class="para">
                        Additional training guides are also planned. Advanced topics such as recipe management,
                        peer-to-peer
                        communication, the PackML stacklight standard, as well as best practices described by the
                        various
                        implementation guides, will be covered.
                    </p>


                    <!-- -->
                    <h3 id="8_3_videos">8.3 Instructional videos</h3>
                    <p class="para">
                        For a quick overview of the subject, see
                        <a href="https://www.youtube.com/watch?v=CQS-R5COOLw">What is PackML?</a>
                    </p>
                    <p class="para">
                        Individual technology providers or consultants may provide additional resources.
                    </p>

                    <!-- -->
                    <h3 id="8_4_industry_publications">8.3 Industry publications</h3>
                    <p class="para">
                        <b>Arla Foods Reduces Packing Machine Integration Costs Using PackML</b>, Valentijn de Leeuw:
                        <a
                            href="https://www.arcweb.com/blog/arla-foods-reduces-packing-machine-integration-costs-using-packml">Link</a>
                    </p>
                    <p class="para">
                        <b>Companies make the Case for PackML as industry standard</b>, Al Presher:
                        <a
                            href="https://www.packagingdigest.com/automation/companies-make-case-packml-industry-standard">Link</a>
                    </p>

                </div>

                <!-- Appendix -->
                <div>
                    <h2 id="9_appendix">Appendix</h2>
                    <hr class="black" />

                    <!-- -->
                    <h3 id="packml_state_model_color_chart">A.1 Color chart</h3>
                    <figure>
                        <img id="summary-packml-state-model" src="images/packml_state_model_color_chart.png" />
                        <figcaption>
                            Figure X. For reference the colors used in the figures from Chapter 3 are shown. Colors not
                            marked are
                            black or white. Note that the figures used in this document are non-normative.
                        </figcaption>
                    </figure>

                    <h3 id="answers_to_suggested_questions">A.2 Answers to suggested questions</h3>

                    <p class="para">
                        1.1.a. What does it mean for machines to have a common "look and feel"?
                    </p>
                    <p class="comment">
                        Here "look and feel" has no specific meaning. The long term goal is for human-machine interfaces
                        to
                        have enough points in common (e.g. navigation menus) so that users will be able to operate new
                        machinery
                        without an excessively steep learning curve.
                    </p>

                    <p class="para">
                        1.1.b. Give an example of operational consistency.
                    </p>
                    <p class="comment">
                        The machine starts when the Start button is pushed. PackML assigns to Start a specific meaning
                        in terms
                        of its effect on the PackML state model.
                    </p>


                    <p class="para">
                        1.1.c. PackML has found application beyond packaging to discrete manufacturing generally. What
                        is discrete manufacturing?
                    </p>
                    <p class="comment">
                        Discrete manufacturing is the production of distinct items.
                    </p>



                    <p class="para">
                        1.4.a. Give examples of data that might be passed from a machine to its supervisor.
                    </p>
                    <p class="comment">
                        Current machine state, current speed, good/bad counts, alarm history, etc.
                    </p>

                    <p class="para">
                        1.4.b. Give examples of data that might be passed between machine peers.
                    </p>
                    <p class="comment">
                        Same answer as above, but perhaps with more emphasis on current machine state, speed or other
                        data required to coordinate line activities.
                    </p>


                    <p class="para">
                        1.5.a. Why is it critical to have naming conventions for the data included in the PackML
                        data interface?
                    </p>
                    <p class="comment">
                        The data must be identifiable and searchable. Identifying the data by tagname was a logical
                        choice.
                    </p>


                    <p class="para">
                        1.5.b. What other conventions regarding the data interface are required?
                    </p>
                    <p class="comment">
                        All measured data (e.g. speed) must be associated with a unit a measure. Additional conventions
                        regarding machine state are discussed further below.
                    </p>

                    <p class="para">
                        1.6.a. In non-technical terms, give examples of common machine conditions or states (e.g.
                        machine is running, error has occurred, etc.).
                    </p>
                    <p class="comment">
                        Stopped, waiting to start, recipe complete, etc.
                    </p>

                    <p class="para">
                        1.6.b. How does having a common understanding of machine state facilitate the creation of a
                        standardized calculation for overall equipment effectiveness (OEE)?
                    </p>
                    <p class="comment">
                        The calculation of availability requires us to distinguish between running and
                        non-running conditions. Note that PackTags includes additional required data.
                    </p>

                    <p class="para">
                        2.2.a. Choose a machine and describe its states. For example, what are some states of an 
                        automobile?
                    </p>
                    <p class="comment">
                        Possible states would include parked, inoperable due to engine failure or other mechanical
                        issue, stopped with engine idling, normal operation (moving at speed), etc.
                    </p>

                    <p class="para">
                        2.3.a. What happens if you push the turnstile barrier without inserting a coin? How is this
                        feature represented in the diagram above?
                    </p>
                    <p class="comment">
                        Pushing on the turnstile barrier in the locked state has no effect. See the arc on the
                        left side of the diagram.
                    </p>


                    <p class="para">
                        2.4.a. One of the units shown in the figure above is the Filler. Give an example of one of its
                        (possible) equipment modules. Given an example of one of its control modules.
                    </p>
                    <p class="comment">
                        Filler equipment modules might be infeed, outfeed, pump bank, etc. A control module of
                        the infeed might be the servo motor that drives the infeed starwheel, for example.
                    </p>

                    <p class="para">
                        2.4.b. In the ISA-88 physical model, do the Enterprise and Site levels ever effectively
                        coincide?
                    </p>
                    <p class="comment">
                        If the corporation or enterprise has a single site, then perhaps the Enterprise and
                        Site levels would coincide, but remember that off-site servers, for example, would
                        be considered enterprise assets.
                    </p>

                    <p class="para">
                        2.5.a. Give some examples of packaging machine modes. In addition to packaging (or
                        producing)
                        product, what other intended uses for a packaging machine are there?
                    </p>
                    <p class="comment">
                        Additional possible modes would include maintenance or manual modes, cleaning modes
                        or modes designed to execute specific testing or calibration.
                    </p>


                    <p class="para">
                        3.1.a. Respond to this description of the PackML state machine: The PackML state tells you
                        whether
                        the machine is running (i.e. producing product) or not and, if not, why not. (Alternative:
                        The main function of the PackML state machine is to characterize what the machine is doing
                        when
                        it is not producing product.)
                    </p>
                    <p class="comment">
                        Question meant for open-ended discussion only.
                    </p>


                    <p class="para">
                        3.2.a What strategic actions could be taken if it is observed that over a prolonged period
                        (e.g. a month) a particular unit/machine is frequently paused in HELD state?
                    </p>
                    <p class="comment">
                        Internal process conditions such as "low glue tank" or "carton tray low" cause the
                        machine to stop in HELD state. Often such conditions require operator attention. If the
                        machine is chronically in HELD state, additional training or supervision might be
                        required. After evaluation, it might be determined that additional operators are
                        required or that other logistical problems exist in the workflow.
                    </p>


                    <p class="para">
                        3.3.a What strategic actions could be taken if it is observed that over an extended period (e.g. a
                        month) a particular unit/machine is frequently paused in SUSPENDED state?
                    </p>
                    <p class="comment">
                        SUSPENDED state indicates that the fault lies either with upstream or downstream equipment,
                        or with the conveyance between them.
                    </p>

                    <p class="para">
                        3.3.b. Give an example of a machine that might not implement the SUSPENDED state in Production
                        mode.
                    </p>
                    <p class="comment">
                        If starvation or blocked conditions cannot occur, then the SUSPENDED state may be omitted.

                    </p>

                    <p class="para">
                        3.4.a If a unit/machine is in COMPLETE state, what steps must be taken next in the production
                        cycle?
                    </p>
                    <p class="comment">
                        Here COMPLETE would indicate that the recipe or batch process finished. Choose the next
                        recipe/batch, reset and start.
                    </p>

                    <p class="para">
                        3.5.a If a unit/machine is in IDLE state, what steps must be taken next in the production cycle?
                    </p>
                    <p class="comment">
                        Start the machine.
                    </p>

                    <p class="para">
                        3.6.a. If a unit/machine is in STOPPED state, what steps must be taken next in the production
                        cycle?
                    </p>
                    <p class="comment">
                        Reset, then start.
                    </p>

                    <p class="para">
                        3.7.a. Beyond clearing errors and restarting the machine, what additional steps might be
                        required if a unit/machine is in ABORTED state?
                    </p>
                    <p class="comment">
                        Make sure that no hardware error has occurred. Possibly contact engineering or maintenance
                        personnel.
                    </p>

                    <p class="para">
                        3.10.a. Describe internal machine functions that might occur during Starting state.
                    </p>
                    <p class="comment">
                        Machine synchronization, waiting for conveyors to come up to speed, alarm may sound, etc.
                    </p>

                    <p class="para">
                        3.10.b. Describe internal machine functions that might occur during Aborting state.
                    </p>
                    <p class="comment">
                        Moving components come to rest, remove air supply from pneumatic actuators, etc.
                    </p>

                    <p class="para">
                        3.13.a. On a given machine it is determined that while in STARTING state all servo axes
                        should synchronize with the master axis and all conveyors should begin to run.
                        In general terms, what would the associated state complete condition look like?
                    </p>
                    <p class="comment">
                        State complete would be set to true once all axes had successfully moved to their
                        synchronous position and once all conveyors had achieved an appropriate speed.
                    </p>

                    <p class="para">
                        4.1.a. ANSI/ISA-TR88.00.02-2015 tacitly assumes that Production mode always be supported
                        in any
                        PackML implementation.
                        Why is this assumption natural and/or justified?
                    </p>
                    <p class="comment">
                        Machines use for discrete manufacturing produce something. While producing, then
                        are in production mode.
                    </p>

                    <p class="para">
                        4.2.a. Why is SUSPENDED state typically not included in Maintenance mode?
                    </p>
                    <p class="comment">
                        In Maintenance mode the machine is typically working independent of upstream or
                        downstream conditions or equipment.
                    </p>

                    <p class="para">
                        4.2.b. Why is COMPLETE state typically not included in Maintenance mode?
                    </p>
                    <p class="comment">
                        The troubleshooting activities often associated with Maintenance mode do not typically
                        have a pre-defined point of completion. (Note that product counters associated
                        with a given recipe or batch should not be active while in Maintenance mode.)
                    </p>


                    <p class="para">
                        4.3.a. A capping machine includes functionality to manually run the cap feed system.
                        Would it make sense to include the HELD state in Manual mode in this case?
                    </p>
                    <p class="comment">
                        Possibly, especially if the loss of caps in the feed path would cause physical damage.
                    </p>

                    <p class="para">
                        4.5.a. A packaging machine includes a Cleaning mode cycle that should be executed
                        automatically
                        once per hour during
                        a production run. How would you suggest managing this mode transition? Would it make
                        sense
                        to allow such a
                        mode transition to occur while in Execute state?
                    </p>
                    <p class="comment">
                        A mode transition in Execute state is allowed and in this case may make sense.
                    </p>
                </div>


                <h3 id="A_3_structured_data_types">A.3 Structured data types</h3>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-chalkboard-teacher"></i> </div>
                    <p class="comment">
                        Instructors: The structure data types that comprise the rest of the PackTags
                        definition are
                        listed here
                        for reference.
                    </p>
                </div>


                <h3 id="A_3_1_interface">A.3.1 Interface</h3>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        Interface – is a collection of tags that are used to describe communication command
                        values
                        between machines using the PackTag structure.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                    </p>
                </div>

                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_interface_type.png" />
                    <figcaption>
                        Figure X. Sample definition of Interface data type.
                    </figcaption>
                </figure>

                <!-- -->
                <h3 id="A_3_2_descriptor">A.3.2 Descriptor</h3>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        Descriptor structure – is a collection of tags that are used to describe parameters
                        in the
                        machine unit.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                    </p>
                </div>

                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_descriptor_type.png" />
                    <figcaption>
                        Figure X. Sample definition of Descriptor data type.
                    </figcaption>
                </figure>

                <!-- -->
                <h3 id="A_3_3_product">A.3.3 Product</h3>
                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        Product structure – is a collection of tags used to describe the product that the
                        machine is
                        making.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                    </p>
                </div>

                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_product_type.png" />
                    <figcaption>
                        Figure X. Sample definition of the Product data type.
                    </figcaption>
                </figure>

                <!-- -->
                <h3 id="A_3_4_ingredient">A.3.4 Ingredient</h3>

                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        Ingredient – is a collection of tags used to describe the raw materials that are
                        needed for
                        the product.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                    </p>
                </div>

                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_ingredient_type.png" />
                    <figcaption>
                        Figure X. Sample definition of the Ingredient data type.
                    </figcaption>
                </figure>


                <!-- -->
                <h3 id="A_3_5_alarm">A.3.5 Alarm</h3>
                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        Alarm – is the collection tags needed to describe alarm events.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.4.1 Structured data types (p. 32)
                    </p>
                </div>
                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_alarm_type.png" />
                    <figcaption>
                        Figure X. Sample definition of the Alarm data type.
                    </figcaption>
                </figure>

                <!-- -->
                <h3 id="A_3_6_count">A.3.6 Count</h3>
                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        See examples Admin.ProdProcessedCount, Admin.ProdDefectiveCount,
                        Admin.ProdConsumedCount.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.5.3.14 Admin.ProdConsumedCount (p. 70)
                    </p>
                </div>
                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_count_type.png" />
                    <figcaption>
                        Figure X. Sample definition of the Count data type.
                    </figcaption>
                </figure>

                <!-- -->
                <h3 id="A_3_7_equipment_interlock">A.3.7 Equipment interlock</h3>
                <div class="key">
                    <div class='key-highlight'><i class="fas fa-file"></i> </div>
                    <p class="tr88">
                        See example Status.EquipmentInterlock.
                    </p>
                    <p class="tr88-ref">
                        ANSI/ISA-TR88.00.02-2015, 7.5.2.10 Status.EquipmentInterlock.Blocked (p. 56)
                    </p>
                </div>
                <figure>
                    <img id="summary-packml-state-model" src="images/packtags_equipmentinterlock_type.png" />
                    <figcaption>
                        Figure X. Sample definition of the EquipmentInterlock data type.
                    </figcaption>
                </figure>

            </div>


            <div>
                <h2 id="VersionHistory">Version History</h2>
                <hr class="black" />
                <table id="version-log">
                    <caption>Table 4: Version Log</caption>
                    <tr class="grey">
                        <th width="20%">Date<br>[YYYY-MM-DD]</th>
                        <th>Initials</th>
                        <th>Description</th>
                        <th>Version</th>
                    </tr>
                    <tr>
                        <td>2020-11-16</td>
                        <td>CPB</td>
                        <td>Preliminary draft.</td>
                        <td>01A</td>
                    </tr>
                    <tr>
                        <td>2021-01-29</td>
                        <td>CPB</td>
                        <td>Additional content (pre-release)</td>
                        <td>01B</td>
                    </tr>
                    <tr>
                        <td>2021-05-27</td>
                        <td>CPB</td>
                        <td>Addition content based on group feedback</td>
                        <td>01C</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    </div>
    <footer><a href="#contents">PackML Learn, Basic Course Syllabus (DRAFT) 01C</a></footer>
</body>

</html>